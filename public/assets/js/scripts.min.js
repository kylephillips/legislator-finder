var map_styles=[{stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:"#151543"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#1bad90"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#151540"}]},{featureType:"administrative.province",elementType:"geometry",stylers:[{visibility:"on"},{color:"#232254"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#3696da"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"},{color:"#151543"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#27275e"}]},{featureType:"water",stylers:[{visibility:"on"},{color:"#0e0e33"}]},{featureType:"administrative.neighborhood",elementType:"geometry",stylers:[{visibility:"on"}]}],state_centers_json="/assets/js/state-centers.json",federal_congressional_districts_geojson="/assets/js/congressional-districts-115.geojson",state_to_fips_json="/assets/js/state-to-fips.json",state_district_boundaries="/state-district-boundaries",Toggle=function(){var e=this,t=jQuery;return e.activeBtn="",e.activeBlock="",e.selectors={toggleBtn:"[data-toggle]",toggleBlock:"[data-toggle-id]"},e.bindEvents=function(){t(document).on("click",e.selectors.toggleBtn,function(o){o.preventDefault(),e.activeBtn=t(this),e.toggle()})},e.toggle=function(){var o=t(e.activeBtn).attr("data-toggle");t(e.selectors.toggleBlock);if(t("*[data-toggle-id="+o+"]").is(":visible"))return t("*[data-toggle-id="+o+"]").hide(),e.toggleArrow(!0),void t(document).trigger("element-toggled-hidden",[e.activeBtn,t(o)]);t("*[data-toggle-id="+o+"]").show(),e.toggleArrow(!1),t(document).trigger("element-toggled-shown",[e.activeBtn,t(o)])},e.toggleArrow=function(o){if(o)return void t(e.activeBtn).find(".icon-arrow_up").removeClass("icon-arrow_up").addClass("icon-arrow_down");t(e.activeBtn).find(".icon-arrow_down").removeClass("icon-arrow_down").addClass("icon-arrow_up")},e.bindEvents()},GeoCoder=function(){var e=this,t=jQuery;return e.lat=null,e.lng=null,e.formattedAddress=null,e.selectors={geoButton:"data-geolocation-button",form:"data-address-form",addressInput:"data-address-input",latInput:"data-latitude-input",lngInput:"data-longitude-input",formattedAddressInput:"data-formatted-address-input",submitBtn:"data-address-submit",loadingDiv:"data-loading",errorDiv:"data-error"},e.bindEvents=function(){t(document).ready(function(){e.toggleGeoLocation(),e.enableAutoComplete()}),t(document).on("location-changed",function(){e.populateAddressFields()}),t(document).on("click","["+e.selectors.submitBtn+"]",function(t){t.preventDefault(),e.submitForm()}),t(document).on("click","["+e.selectors.geoButton+"]",function(t){t.preventDefault(),e.geocodeLocation()})},e.toggleGeoLocation=function(){"https:"===location.protocol&&navigator.geolocation&&t("["+e.selectors.geoButton+"]").show()},e.geocodeLocation=function(){if(!navigator.geolocation)return void e.displayError("Your location could not be determined at this time. Try entering an address.");navigator.geolocation.getCurrentPosition(function(t){e.formattedAddress="Your Current Location",e.lat=t.coords.latitude,e.lng=t.coords.longitude})},e.enableAutoComplete=function(){var o=t("["+e.selectors.addressInput+"]");if(0!==o.length){var a=new google.maps.places.Autocomplete(o[0]);google.maps.event.addListener(a,"place_changed",function(){var o=a.getPlace();e.formattedAddress=o.formatted_address,e.lat=o.geometry.location.lat(),e.lng=o.geometry.location.lng(),t(document).trigger("location-changed")})}},e.submitForm=function(){if(e.toggleLoading(!0),!e.lat&&!e.lng)return void e.geoCodeAddress();t("["+e.selectors.form+"]").submit()},e.populateAddressFields=function(){t("["+e.selectors.formattedAddressInput+"]").val(e.formattedAddress),t("["+e.selectors.latInput+"]").val(e.lat),t("["+e.selectors.lngInput+"]").val(e.lng)},e.geoCodeAddress=function(){var o=t("["+e.selectors.addressInput+"]").val();if(""===o)return void e.displayError("Please enter an address.");geocoder=new google.maps.Geocoder,geocoder.geocode({address:o},function(t,o){o==google.maps.GeocoderStatus.OK?(e.formattedAddress=t[0].formatted_address,e.lat=t[0].geometry.location.lat(),e.lng=t[0].geometry.location.lng(),e.populateAddressFields(),e.submitForm()):e.displayError("The address entered could not be found.")})},e.toggleLoading=function(o){if(o)return t("["+e.selectors.loadingDiv+"]").show(),void t("["+e.selectors.errorDiv+"]").hide();t("["+e.selectors.loadingDiv+"]").hide()},e.displayError=function(o){e.toggleLoading(!1),t("["+e.selectors.errorDiv+"]").text(o).show()},e.bindEvents()},StateMap=function(e,t){var o=this,a=jQuery;return o.state=e,o.container=t,o.centerLat=null,o.centerLng=null,o.fetchCenter=function(){a.ajax({url:state_centers_json,dataType:"json",success:function(e){for(var t=0;t<e.length;t++)e[t].state===o.state&&(o.centerLat=e[t].latitude,o.centerLng=e[t].longitude);o.drawStateMap()}})},o.drawStateMap=function(){var e=new google.maps.LatLng(o.centerLat,o.centerLng);map=new google.maps.Map(o.container[0],{center:e,zoom:6,mapTypeId:"roadmap",styles:map_styles}),layer=new google.maps.FusionTablesLayer({styles:[{polygonOptions:{fillColor:"#1bbc9b",strokeColor:"#1bbc9b"}}],suppressInfoWindows:!0}),layer.setQuery({select:"geometry",from:"17aT9Ud-YnGiXdXEJUyycH2ocUqreOeKGbzCkUw",where:"'id' = '"+o.state+"'"}),layer.setMap(map),a(o.container[0]).removeClass("loading")},o.fetchCenter()},FederalHouseDistrictMap=function(e,t,o){var a=this,n=jQuery;return a.district=e,a.state=t,a.container=o,a.fipsCode=null,a.getFipsCode=function(){n.getJSON(state_to_fips_json,function(e){a.fipsCode=e[a.state],a.loadGeoJson()})},a.loadGeoJson=function(){n.getJSON(federal_congressional_districts_geojson,function(e){var t=e.features;n.each(t,function(e,t){t.properties.STATEFP===a.fipsCode&&t.properties.CD115FP===a.district&&a.initializeMap(t)})})},a.initializeMap=function(e){var t;t=new google.maps.Map(a.container[0],{zoom:4,center:{lat:35.1825687,lng:-100.0268953},mapTypeId:"roadmap",styles:map_styles});var o={type:"FeatureCollection",features:[e]};t.data.addGeoJson(o),t.data.setStyle({fillColor:"#1bbc9b",strokeWeight:0});var r=new google.maps.LatLngBounds;t.data.forEach(function(e){e.getGeometry().forEachLatLng(function(e){r.extend(e)})}),t.fitBounds(r),n(a.container[0]).removeClass("loading")},a.getFipsCode()},StateDistrictMap=function(e,t,o,a,n){var r=this,s=jQuery;return r.token=e,r.chamber=t,r.state=o,r.district_number=a,r.container=n,r.boundary_data=null,r.getData=function(){s.ajax({url:state_district_boundaries,type:"POST",data:{_token:r.token,chamber:r.chamber,state:r.state,district_number:r.district_number},success:function(e){if("success"===e.status)return r.boundary_data=e,void r.loadMap();s(n[0]).hide()},error:function(e){s(n[0]).hide()}})},r.loadMap=function(){for(var e=new google.maps.Map(r.container[0],{center:new google.maps.LatLng(r.boundary_data.center_lat,r.boundary_data.center_lng),mapTypeID:google.maps.MapTypeId.ROADMAP,zoom:9,mapTypeControl:!1,scaleControl:!0,styles:map_styles}),t=[],o=0;o<r.boundary_data.coordinates.length;o++){var a=r.boundary_data.coordinates[o];a={lat:a[1],lng:a[0]},t.push(a)}var n=new google.maps.Polygon({paths:t,strokeWeight:0,fillColor:"#1bbc9b",fillOpacity:"0.8"});n.setMap(e),google.maps.Polygon.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds,o=this.getPaths(),a=0;a<o.getLength();a++){e=o.getAt(a);for(var n=0;n<e.getLength();n++)t.extend(e.getAt(n))}return t},e.fitBounds(n.getBounds()),s(r.container[0]).removeClass("loading")},r.getData()},LegislatorFinder=function(){new Toggle,new GeoCoder};new LegislatorFinder;